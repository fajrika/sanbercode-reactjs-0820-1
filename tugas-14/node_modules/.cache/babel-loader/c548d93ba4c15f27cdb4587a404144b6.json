{"ast":null,"code":"var _jsxFileName = \"/Users/fajrika/Google Drive/Sanbercode/React Basic/sanbercode-reactjs-0820-1/tugas-14/src/tugas 13/tugas 14/tugas 15/FruitForm.js\";\nimport React, { useContext, useEffect } from \"react\";\nimport { FruitContext, InputContext, IndexContext } from \"./FruitContext\";\nimport axios from \"axios\";\n\nconst FruitForm = () => {\n  const [fruit, loadFruit] = useContext(FruitContext);\n  const [input, setInput] = useContext(InputContext);\n  const [index, setIndex] = useContext(IndexContext);\n  useEffect(e => {\n    if (index != -1) {\n      var _tmp$name, _tmp$price, _tmp$weight;\n\n      let tmp = fruit.find(val => {\n        return val.id == index;\n      }); // NOTE - ?? di gunakan untuk validasi, jadi ketika nilainya null, maka akan di gantikan dengan nilai yang ada di sebelah kanannya\n\n      setInput({\n        name: (_tmp$name = tmp.name) !== null && _tmp$name !== void 0 ? _tmp$name : \"\",\n        price: (_tmp$price = tmp.price) !== null && _tmp$price !== void 0 ? _tmp$price : 0,\n        weight: (_tmp$weight = tmp.weight) !== null && _tmp$weight !== void 0 ? _tmp$weight : 0\n      });\n    }\n  }, [index]);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInput(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = e => {\n    console.log(e.target.name);\n    e.preventDefault();\n    const config = {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    };\n    console.log(config);\n    if (index == -1) axios.post(\"http://backendexample.sanbercloud.com/api/fruits\", input).then(() => loadFruit(), config);else {\n      axios.put(`http://backendexample.sanbercloud.com/api/fruits/${index}`, input).then(() => loadFruit(), config);\n      setIndex(-1);\n    }\n    setInput({\n      name: '',\n      price: '',\n      weight: ''\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, \"  Add Fruit Form \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 32\n    }\n  }, \"Name : \")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: input.name,\n    onChange: handleChange,\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 32\n    }\n  }, \" Price : \")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: input.price,\n    onChange: handleChange,\n    name: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 32\n    }\n  }, \" Weight : \")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: input.weight,\n    onChange: handleChange,\n    name: \"weight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submit-add\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, \" Submit \")))));\n};\n\nexport default FruitForm;","map":{"version":3,"sources":["/Users/fajrika/Google Drive/Sanbercode/React Basic/sanbercode-reactjs-0820-1/tugas-14/src/tugas 13/tugas 14/tugas 15/FruitForm.js"],"names":["React","useContext","useEffect","FruitContext","InputContext","IndexContext","axios","FruitForm","fruit","loadFruit","input","setInput","index","setIndex","e","tmp","find","val","id","name","price","weight","handleChange","value","target","prevState","handleSubmit","console","log","preventDefault","config","headers","post","then","put"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\"\nimport { FruitContext, InputContext, IndexContext } from \"./FruitContext\"\nimport axios from \"axios\"\n\nconst FruitForm = () => {\n    const [fruit, loadFruit] = useContext(FruitContext)\n    const [input, setInput] = useContext(InputContext)\n    const [index, setIndex] = useContext(IndexContext)\n\n\n    useEffect((e) => {\n        if (index != -1) {\n            let tmp = fruit.find(val => { return val.id == index });\n            // NOTE - ?? di gunakan untuk validasi, jadi ketika nilainya null, maka akan di gantikan dengan nilai yang ada di sebelah kanannya\n            setInput({\n                name: tmp.name ?? \"\",\n                price: tmp.price ?? 0,\n                weight: tmp.weight ?? 0\n            });\n        }\n    }, [index])\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setInput(prevState => ({\n            ...prevState,\n            [name]: value\n        }));\n    }\n    const handleSubmit = (e) => {\n        console.log(e.target.name)\n        e.preventDefault()\n        const config = {\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n            }\n        };\n        console.log(config)\n        if (index == -1) axios.post(\"http://backendexample.sanbercloud.com/api/fruits\", input).then(() => loadFruit(), config)\n        else {\n            axios.put(`http://backendexample.sanbercloud.com/api/fruits/${index}`, input).then(() => loadFruit(),config);\n            setIndex(-1);\n        }\n        setInput({ name: '', price: '', weight: '' })\n    }\n    return (\n        <>\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-add\">\n                    <h1>  Add Fruit Form </h1>\n                    <div className=\"input-group\">\n                        <label><b>Name : </b></label>\n                        <input type=\"text\" value={input.name} onChange={handleChange} name=\"name\" />\n                    </div>\n                    <div className=\"input-group\">\n                        <label><b> Price : </b></label>\n                        <input type=\"text\" value={input.price} onChange={handleChange} name=\"price\" />\n                    </div>\n                    <div className=\"input-group\">\n                        <label><b> Weight : </b></label>\n                        <input type=\"text\" value={input.weight} onChange={handleChange} name=\"weight\" />\n                    </div>\n                    <div className=\"submit-add\">\n                        <button type=\"submit\"> Submit </button>\n                    </div>\n                </div>\n            </form>\n        </>\n    )\n\n}\n\nexport default FruitForm"]},"metadata":{},"sourceType":"module"}